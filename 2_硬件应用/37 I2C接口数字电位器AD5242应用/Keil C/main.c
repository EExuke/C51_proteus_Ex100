//-----------------------------------------------------------------
//  名称: I2C接口数字电位器AD5242应用
//-----------------------------------------------------------------
//  说明: K1,K2对通道1电位分别进行递增/递减调节.
//		  K3,K4对通道2电位分别进行递增/递减调节.
//
//-----------------------------------------------------------------
#define INT8U  unsigned char
#define INT16U unsigned int
#define INT32U unsigned long
#include <reg51.h>
#include <intrins.h>
#include <string.h>
#include <stdio.h>
sbit SCL = P2^0;					//IIC时钟线
sbit SDA = P2^1;					//IIC数据线
#include "I2C.h"					//IIC总线通用宏及函数
//-----------------------------------------------------------------
#define SUB_DEV_ADDR 0x58			//AD5242子器件地址
//-----------------------------------------------------------------
INT8U CHW1 = 0x00,CHW2 = 0x80;
sbit K1 = P1^1;						//通道1递增
sbit K2 = P1^3;						//通道1递减
sbit K3 = P1^5;						//通道2递增
sbit K4 = P1^7;						//通道2递减
//-----------------------------------------------------------------
// 延时函数
//-----------------------------------------------------------------
void delay_ms(INT16U x) {INT8U t; while(x--) for(t = 0; t < 120; t++);}
//-----------------------------------------------------------------
// 向IIC总线写入器件地址,指令字节(RDAC),数据字节
//-----------------------------------------------------------------
void Write_IIC(INT8U ch, INT8U dat)
{


}

//-----------------------------------------------------------------
// 主程序
//-----------------------------------------------------------------
void main()
{


}