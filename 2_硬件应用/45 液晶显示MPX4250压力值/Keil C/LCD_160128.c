//-----------------------------------------------------------------
// LCD显示控制程序
//-----------------------------------------------------------------
#include <stdarg.h>
#include <stdio.h>
#include <math.h>
#include <intrins.h>
#include <absacc.h>
#include <string.h>
#include <LCD_160128.h>
//本例数字字模32*64
#define ASC_CHR_WIDTH	32
#define ASC_CHR_HEIGHT	64
//汉字字模12*12
#define HZ_CHR_HEIGHT	12
#define HZ_CHR_WIDTH	12
INT8U code LCD_WIDTH  =	20;		//宽160像素(160/8 = 20个字节)
INT8U code LCD_HEIGHT =	128;	//高128像素
//数字字符点阵库,粗体初号,32*64点阵,32/8=4,每个数字共需要4*64字节,共10个数字
INT8U code ASC_MSK[10 * 4 * 64] = {
/*--  文字:  0  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xF8,0x00,0x00,0x7F,0xFC,0x00,
0x01,0xFF,0xFF,0x00,0x03,0xFF,0xFF,0x80,0x07,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0xC0,
0x0F,0xFE,0xFF,0xE0,0x0F,0xF8,0x3F,0xE0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF0,0x1F,0xF0,
0x1F,0xF0,0x1F,0xF0,0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,
0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,
0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,
0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,
0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF8,0x1F,0xF0,0x1F,0xF0,
0x1F,0xF0,0x1F,0xF0,0x1F,0xF8,0x3F,0xF0,0x0F,0xF8,0x3F,0xE0,0x0F,0xFE,0xFF,0xE0,
0x07,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0xC0,0x03,0xFF,0xFF,0x80,0x01,0xFF,0xFF,0x00,
0x00,0x7F,0xFC,0x00,0x00,0x3F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  1  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xF0,0x00,
0x00,0xFF,0xF0,0x00,0x00,0xFF,0xF0,0x00,0x00,0xFF,0xF0,0x00,0x00,0xFF,0xF0,0x00,
0x00,0xFF,0xF0,0x00,0x00,0xFF,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0xFF,0xFF,0x00,0x00,0xFF,0xFF,0x00,
0x00,0xFF,0xFF,0x00,0x00,0xFF,0xFF,0x00,0x00,0xFF,0xFF,0x00,0x00,0xFF,0xFF,0x00,
0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  2  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF8,0x00,0x00,0x7F,0xFE,0x00,
0x01,0xFF,0xFF,0x00,0x03,0xFF,0xFF,0x80,0x03,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0xC0,
0x07,0xFC,0xFF,0xE0,0x0F,0xF8,0x7F,0xE0,0x0F,0xF0,0x7F,0xE0,0x0F,0xF0,0x3F,0xE0,
0x0F,0xF0,0x3F,0xE0,0x0F,0xF0,0x7F,0xE0,0x0F,0xE0,0x7F,0xE0,0x0F,0xE0,0x7F,0xE0,
0x00,0x00,0xFF,0xE0,0x00,0x01,0xFF,0xC0,0x00,0x03,0xFF,0xC0,0x00,0x07,0xFF,0x80,
0x00,0x0F,0xFF,0x00,0x00,0x1F,0xFE,0x00,0x00,0x3F,0xFC,0x00,0x00,0x7F,0xF8,0x00,
0x00,0x7F,0xE0,0x00,0x00,0xFF,0xC0,0x00,0x01,0xFF,0x00,0x00,0x03,0xFE,0x00,0x00,
0x07,0xFC,0x00,0x00,0x07,0xF8,0x0F,0xE0,0x0F,0xF0,0x0F,0xE0,0x0F,0xE0,0x0F,0xE0,
0x0F,0xE0,0x0F,0xE0,0x1F,0xE0,0x0F,0xE0,0x1F,0xFF,0xFF,0xE0,0x1F,0xFF,0xFF,0xE0,
0x1F,0xFF,0xFF,0xE0,0x1F,0xFF,0xFF,0xE0,0x1F,0xFF,0xFF,0xE0,0x1F,0xFF,0xFF,0xE0,
0x1F,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  3  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xF8,0x00,0x00,0xFF,0xFE,0x00,
0x03,0xFF,0xFF,0x00,0x07,0xFF,0xFF,0x80,0x0F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,
0x1F,0xF9,0xFF,0xE0,0x1F,0xE0,0x7F,0xE0,0x1F,0xE0,0x7F,0xE0,0x1F,0xE0,0x3F,0xE0,
0x1F,0xC0,0x3F,0xE0,0x00,0x00,0x3F,0xE0,0x00,0x00,0x7F,0xE0,0x00,0x00,0x7F,0xE0,
0x00,0x00,0xFF,0xE0,0x00,0x03,0xFF,0xC0,0x00,0x0F,0xFF,0x80,0x00,0x0F,0xFF,0x00,
0x00,0x0F,0xFE,0x00,0x00,0x0F,0xFE,0x00,0x00,0x0F,0xFF,0x80,0x00,0x0F,0xFF,0xC0,
0x00,0x01,0xFF,0xE0,0x00,0x00,0x7F,0xE0,0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xF0,
0x00,0x00,0x3F,0xF0,0x3F,0x80,0x1F,0xF0,0x3F,0x80,0x1F,0xF0,0x3F,0xC0,0x3F,0xF0,
0x3F,0xC0,0x3F,0xF0,0x3F,0xC0,0x3F,0xF0,0x1F,0xE0,0x7F,0xF0,0x1F,0xF9,0xFF,0xE0,
0x1F,0xFF,0xFF,0xE0,0x0F,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0x80,0x03,0xFF,0xFF,0x00,
0x01,0xFF,0xFE,0x00,0x00,0x7F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  4  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x80,0x00,0x00,0x3F,0x80,
0x00,0x00,0x7F,0x80,0x00,0x00,0xFF,0x80,0x00,0x01,0xFF,0x80,0x00,0x03,0xFF,0x80,
0x00,0x07,0xFF,0x80,0x00,0x0F,0xFF,0x80,0x00,0x1F,0xFF,0x80,0x00,0x3F,0xFF,0x80,
0x00,0x7F,0xFF,0x80,0x00,0xFF,0x7F,0x80,0x00,0xFE,0x7F,0x80,0x01,0xFC,0x7F,0x80,
0x03,0xF8,0x7F,0x80,0x07,0xF0,0x7F,0x80,0x0F,0xE0,0x7F,0x80,0x1F,0xC0,0x7F,0x80,
0x3F,0x80,0x7F,0x80,0x7F,0x00,0x7F,0x80,0x7F,0xFF,0xFF,0xF8,0x7F,0xFF,0xFF,0xF8,
0x7F,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xF8,
0x3F,0xFF,0xFF,0xF8,0x00,0x00,0x7F,0x80,0x00,0x00,0x7F,0x80,0x00,0x00,0x7F,0x80,
0x00,0x00,0x7F,0x80,0x00,0x00,0x7F,0x80,0x00,0x07,0xFF,0xF0,0x00,0x07,0xFF,0xF0,
0x00,0x07,0xFF,0xF0,0x00,0x07,0xFF,0xF0,0x00,0x07,0xFF,0xF0,0x00,0x07,0xFF,0xF0,
0x00,0x07,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  5  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFF,0xFF,0xC0,
0x07,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,
0x0F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,0x0F,0xF0,0x1F,0xC0,0x0F,0xF0,0x1F,0xC0,
0x0F,0xF0,0x0F,0xC0,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,0x0F,0xF0,0x00,0x00,
0x0F,0xF7,0xFC,0x00,0x0F,0xFF,0xFE,0x00,0x0F,0xFF,0xFF,0x80,0x0F,0xFF,0xFF,0x80,
0x0F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xE0,0x01,0xFC,0xFF,0xE0,0x00,0x70,0x7F,0xF0,
0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xF0,0x00,0x00,0x1F,0xF0,
0x00,0x00,0x1F,0xF0,0x00,0x00,0x1F,0xF0,0x00,0x00,0x1F,0xF0,0x3F,0x80,0x3F,0xF0,
0x3F,0xC0,0x3F,0xF0,0x3F,0xC0,0x3F,0xF0,0x3F,0xE0,0x7F,0xE0,0x1F,0xF9,0xFF,0xE0,
0x1F,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0x80,0x03,0xFF,0xFF,0x00,
0x01,0xFF,0xFE,0x00,0x00,0x7F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  6  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFC,0x00,0x00,0x3F,0xFF,0x00,
0x00,0x7F,0xFF,0x80,0x00,0xFF,0xFF,0xC0,0x01,0xFF,0xFF,0xE0,0x03,0xFF,0xFF,0xE0,
0x07,0xFF,0x3F,0xF0,0x07,0xFE,0x1F,0xF0,0x0F,0xFC,0x0F,0xF0,0x0F,0xFC,0x0F,0xF0,
0x0F,0xF8,0x0F,0xF0,0x1F,0xF8,0x00,0x00,0x1F,0xF8,0x00,0x00,0x1F,0xF8,0x00,0x00,
0x1F,0xF8,0x00,0x00,0x1F,0xF3,0xFC,0x00,0x1F,0xF7,0xFF,0x00,0x1F,0xFF,0xFF,0x80,
0x1F,0xFF,0xFF,0xC0,0x1F,0xFF,0xFF,0xE0,0x1F,0xFF,0xFF,0xE0,0x1F,0xFE,0xFF,0xF0,
0x1F,0xF8,0x7F,0xF0,0x1F,0xF0,0x3F,0xF0,0x1F,0xF0,0x3F,0xF0,0x1F,0xF0,0x1F,0xF0,
0x1F,0xF8,0x1F,0xF0,0x1F,0xF8,0x1F,0xF0,0x1F,0xF8,0x1F,0xF0,0x1F,0xF8,0x3F,0xF0,
0x0F,0xF8,0x3F,0xF0,0x0F,0xF8,0x3F,0xF0,0x0F,0xFC,0x3F,0xF0,0x07,0xFE,0x7F,0xE0,
0x07,0xFF,0xFF,0xE0,0x03,0xFF,0xFF,0xC0,0x01,0xFF,0xFF,0xC0,0x00,0xFF,0xFF,0x80,
0x00,0x7F,0xFE,0x00,0x00,0x1F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  7  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xF0,
0x0F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xF0,
0x0F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xF0,0x0F,0xE0,0x1F,0xE0,0x0F,0xE0,0x3F,0xC0,
0x0F,0xE0,0x3F,0x80,0x0F,0xE0,0x7F,0x80,0x0F,0xE0,0x7F,0x00,0x00,0x00,0xFF,0x00,
0x00,0x01,0xFE,0x00,0x00,0x01,0xFE,0x00,0x00,0x03,0xFC,0x00,0x00,0x03,0xFC,0x00,
0x00,0x07,0xF8,0x00,0x00,0x07,0xF8,0x00,0x00,0x07,0xF8,0x00,0x00,0x0F,0xF0,0x00,
0x00,0x0F,0xF0,0x00,0x00,0x1F,0xF0,0x00,0x00,0x1F,0xE0,0x00,0x00,0x1F,0xE0,0x00,
0x00,0x1F,0xE0,0x00,0x00,0x3F,0xE0,0x00,0x00,0x3F,0xE0,0x00,0x00,0x3F,0xE0,0x00,
0x00,0x3F,0xC0,0x00,0x00,0x3F,0xC0,0x00,0x07,0xFF,0xFE,0x00,0x07,0xFF,0xFE,0x00,
0x07,0xFF,0xFE,0x00,0x07,0xFF,0xFE,0x00,0x07,0xFF,0xFE,0x00,0x07,0xFF,0xFE,0x00,
0x07,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  8  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xF8,0x00,0x00,0xFF,0xFF,0x00,
0x03,0xFF,0xFF,0x80,0x07,0xFF,0xFF,0xC0,0x0F,0xFF,0xFF,0xE0,0x0F,0xFF,0xFF,0xE0,
0x1F,0xFC,0x7F,0xF0,0x1F,0xF8,0x3F,0xF0,0x1F,0xF0,0x1F,0xF0,0x1F,0xF0,0x1F,0xF0,
0x1F,0xE0,0x0F,0xF0,0x1F,0xE0,0x0F,0xF0,0x1F,0xF0,0x1F,0xF0,0x1F,0xF0,0x1F,0xF0,
0x1F,0xF8,0x3F,0xF0,0x0F,0xFC,0x7F,0xE0,0x07,0xFF,0xFF,0xC0,0x03,0xFF,0xFF,0x80,
0x01,0xFF,0xFF,0x00,0x00,0xFF,0xFE,0x00,0x03,0xFF,0xFF,0x80,0x07,0xFF,0xFF,0xC0,
0x0F,0xFC,0x7F,0xE0,0x1F,0xF0,0x1F,0xF0,0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,
0x3F,0xE0,0x0F,0xF8,0x3F,0xC0,0x07,0xF8,0x3F,0xC0,0x07,0xF8,0x3F,0xE0,0x0F,0xF8,
0x3F,0xE0,0x0F,0xF8,0x3F,0xE0,0x0F,0xF8,0x3F,0xF0,0x1F,0xF8,0x1F,0xFC,0x7F,0xF8,
0x1F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xE0,0x07,0xFF,0xFF,0xE0,0x03,0xFF,0xFF,0xC0,
0x01,0xFF,0xFF,0x00,0x00,0x7F,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*--  文字:  9  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xF0,0x00,0x01,0xFF,0xFC,0x00,
0x03,0xFF,0xFE,0x00,0x07,0xFF,0xFF,0x00,0x0F,0xFF,0xFF,0x80,0x1F,0xFF,0xFF,0xC0,
0x1F,0xFD,0xFF,0xC0,0x1F,0xF8,0x7F,0xE0,0x3F,0xF0,0x7F,0xE0,0x3F,0xF0,0x3F,0xE0,
0x3F,0xF0,0x3F,0xE0,0x3F,0xE0,0x3F,0xF0,0x3F,0xE0,0x3F,0xF0,0x3F,0xE0,0x3F,0xF0,
0x3F,0xF0,0x1F,0xF0,0x3F,0xF0,0x1F,0xF0,0x3F,0xF0,0x1F,0xF0,0x3F,0xF8,0x3F,0xF0,
0x1F,0xFC,0xFF,0xF0,0x1F,0xFF,0xFF,0xF0,0x1F,0xFF,0xFF,0xF0,0x0F,0xFF,0xFF,0xF0,
0x07,0xFF,0xFF,0xF0,0x03,0xFF,0xDF,0xF0,0x00,0xFF,0xBF,0xF0,0x00,0x00,0x3F,0xF0,
0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xF0,0x00,0x00,0x3F,0xF0,0x1F,0xE0,0x3F,0xE0,
0x1F,0xE0,0x7F,0xE0,0x1F,0xE0,0x7F,0xE0,0x1F,0xF0,0xFF,0xC0,0x1F,0xF9,0xFF,0xC0,
0x0F,0xFF,0xFF,0x80,0x0F,0xFF,0xFF,0x80,0x07,0xFF,0xFF,0x00,0x03,0xFF,0xFE,0x00,
0x01,0xFF,0xF8,0x00,0x00,0x7F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
struct typFNT_GB16 // 汉字字模显示数据结构
{ char Index[2]; char Msk[24];
};
//本例汉字点阵库,12*12点阵,宋体小五号,用Zimo软件取得点阵
struct typFNT_GB16 code GB_16[] = { 
"液",0x81,0x00,0x5F,0xE0,0x25,0x00,0x85,0xC0,0xAA,0x40,0x4E,0xC0,
	 0x5A,0x40,0x49,0x80,0xC8,0x80,0x49,0x40,0x4E,0x20,0x00,0x00,
"晶",0x1F,0x80,0x10,0x80,0x1F,0x80,0x10,0x80,0x1F,0x80,0x00,0x00,
	 0x7B,0xE0,0x4A,0x20,0x7B,0xE0,0x4A,0x20,0x7B,0xE0,0x00,0x00,
"屏",0x7F,0xC0,0x40,0x40,0x7F,0xC0,0x50,0x80,0x49,0x00,0x5F,0xC0,
	 0x49,0x00,0x7F,0xE0,0x49,0x00,0x91,0x00,0xA1,0x00,0x00,0x00,
"显",0x3F,0x80,0x20,0x80,0x3F,0x80,0x20,0x80,0x3F,0x80,0x00,0x00,
	 0x4A,0x40,0x2A,0x40,0x2A,0x80,0x0B,0x00,0xFF,0xE0,0x00,0x00,
"示",0x00,0x80,0x7F,0xC0,0x00,0x00,0x00,0x00,0xFF,0xE0,0x04,0x00,
	 0x14,0x80,0x24,0x40,0x44,0x20,0x84,0x20,0x1C,0x00,0x00,0x00,
"千",0x03,0x80,0x7C,0x00,0x04,0x00,0x04,0x00,0xFF,0xE0,0x04,0x00,
	 0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x04,0x00,0x00,0x00,
"帕",0x20,0x80,0x21,0x00,0xFB,0xE0,0xAA,0x20,0xAA,0x20,0xAA,0x20,
	 0xAB,0xE0,0xBA,0x20,0x22,0x20,0x23,0xE0,0x22,0x20,0x00,0x00,
"当",0x04,0x00,0x44,0x40,0x24,0x80,0x05,0x00,0xFF,0xC0,0x00,0x40,
	 0x00,0x40,0x7F,0xC0,0x00,0x40,0x00,0x40,0xFF,0xC0,0x00,0x00,
"前",0x11,0x00,0x0A,0x40,0xFF,0xE0,0x00,0x00,0x79,0x40,0x49,0x40,
	 0x79,0x40,0x49,0x40,0x79,0x40,0x48,0x40,0x59,0xC0,0x00,0x00,
"压",0x7F,0xE0,0x40,0x00,0x44,0x00,0x44,0x00,0x44,0x00,0x5F,0xC0,
	 0x45,0x00,0x44,0x80,0x44,0x40,0x84,0x00,0xBF,0xE0,0x00,0x00,
"力",0x04,0x00,0x04,0x00,0x04,0x40,0x7F,0xE0,0x04,0x40,0x04,0x40,
	 0x08,0x40,0x08,0x40,0x10,0x40,0x20,0x40,0xC3,0x80,0x00,0x00
};
INT8U gCurRow,gCurCol;	// 图形当前行、列存储，行高16点，列宽8点
INT8U tCurRow,tCurCol;	// 文本当前行、列存储，行高8点 ，列宽8点
INT8U ShowModeSW;		// 当前显示模式
INT16U  txthome,grhome;
//-----------------------------------------------------------------
// LCD控制相关函数
//-----------------------------------------------------------------
INT8U Status_BIT_01();	// 状态位STA1,STA0判断（读写指令和读写数据）
INT8U Status_BIT_3();	// 状态位ST3判断（数据自动写状态）
INT8U LCD_Write_Command(INT8U cmd);							//写无参数的指令
INT8U LCD_Write_Command_P1(INT8U cmd,INT8U para1);			//写单参数的指令
INT8U LCD_Write_Command_P2 (INT8U cmd,INT8U para1,INT8U para2); //写双参数的指令
INT8U LCD_Write_Data(INT8U dat);							//写数据
INT8U LCD_Read_Data();										//读数据
INT8U LCD_Initialise();										//LCD初始化
void Set_LCD_POS(INT8U row, INT8U col);						//设置当前地址
void OutToLCD(INT8U Dat,INT8U x,INT8U y);					//显示辅助函数
//-----------------------------------------------------------------
// 状态位STA1,STA0判断(读写指令和读写数据)
//-----------------------------------------------------------------
INT8U Status_BIT_01() 
{


}

//-----------------------------------------------------------------
// 状态位ST3判断(数据自动写状态)
//-----------------------------------------------------------------
INT8U Status_BIT_3() 
{


}

//-----------------------------------------------------------------
// 写双参数的指令
//-----------------------------------------------------------------
INT8U LCD_Write_Command_P2(INT8U cmd,INT8U para1,INT8U para2) 
{


}

//-----------------------------------------------------------------
// 写单参数的指令
//-----------------------------------------------------------------
INT8U LCD_Write_Command_P1(INT8U cmd,INT8U para1) 
{


}

//-----------------------------------------------------------------
// 写无参数的指令
//-----------------------------------------------------------------
INT8U LCD_Write_Command(INT8U cmd) 
{


}

//-----------------------------------------------------------------
// 写数据
//-----------------------------------------------------------------
INT8U LCD_Write_Data(INT8U dat) 
{


}

//-----------------------------------------------------------------
// 读数据
//-----------------------------------------------------------------
INT8U LCD_Read_Data() 
{


}

//-----------------------------------------------------------------
// 设置当前地址
//-----------------------------------------------------------------
void Set_LCD_POS(INT8U row, INT8U col)	
{
	INT16U Pos;	
	Pos = row * LCD_WIDTH + col;
	LCD_Write_Command_P2(LC_ADD_POS,Pos % 256, Pos / 256);
	gCurRow = row;
	gCurCol = col;
}

//-----------------------------------------------------------------
// LCM 初始化
//-----------------------------------------------------------------
INT8U LCD_Initialise()
{
	RESET = 0;
	RESET = 1;
	LCD_Write_Command_P2(LC_TXT_STP,0x00,0x00);	  //文本显示区首地址
	LCD_Write_Command_P2(LC_TXT_WID,LCD_WIDTH,0x00); //文本显示区宽度
	LCD_Write_Command_P2(LC_GRH_STP,0x00,0x00);	  //图形显示区首地址
	LCD_Write_Command_P2(LC_GRH_WID,LCD_WIDTH,0x00); //图形显示区宽度	
	LCD_Write_Command_P1(LC_CGR_POS, CGRAMSTART >> 11);	
	LCD_Write_Command(LC_CUR_SHP | 0x01);			//光标形状
	LCD_Write_Command(LC_MOD_OR);					//显示方式设置
	LCD_Write_Command(LC_DIS_SW  | 0x08);	
	grhome = GRSTART;
	txthome = TXTSTART;
	return 0;
}

//-----------------------------------------------------------------
// 数字及汉字显示
//-----------------------------------------------------------------
void Display_Str_at_xy(INT8U x,INT8U y,volatile char *Buffer)
{
	char c1,c2,cData;
	INT16U i = 0,j,k;
	INT8U sLen;
	INT8U rL = ASC_CHR_WIDTH / 8;	
	sLen = strlen(Buffer);
	while(i < sLen)
	{	c1 = Buffer[i];	c2 = Buffer[i+1];
		//数字显示
		if(c1 >= 0) 
		{	for(j = 0; j < ASC_CHR_HEIGHT; j++)
			{	for (k = 0; k < rL; k++) 
				{
					if(c1 >= '0' && c1 <= '9')
					  cData = ASC_MSK[ ((c1 - '0') * ASC_CHR_HEIGHT + j ) * rL + k ];
					else cData = 0x00;
					if( (x % 8) == 0)
					{	Set_LCD_POS( y + j , x / 8);
						LCD_Write_Command(LC_AUT_WR);
						LCD_Write_Data(cData);	
						LCD_Write_Command(LC_AUT_OVR);
					}
					else OutToLCD(cData, x, y + j);
					x += 8;
				}
				x -= ASC_CHR_WIDTH;
			}
			x += ASC_CHR_WIDTH;
		}
		//中文字符显示
		else  
		{	for(j = 0;j < sizeof(GB_16)/sizeof(GB_16[0]);j++)
			{	if(c1 == GB_16[j].Index[0] && c2 == GB_16[j].Index[1]) break;
			}
			for(k = 0;k < HZ_CHR_HEIGHT; k++)
			{	Set_LCD_POS(y + k, x / 8);
				if(j < sizeof(GB_16)/sizeof(GB_16[0]))
				{	c1 = GB_16[j].Msk[k*2];
					c2 = GB_16[j].Msk[k*2+1];
				}
				else c1 = c2 = 0;
				if((x % 8) == 0)
				{	LCD_Write_Command(LC_AUT_WR);
					LCD_Write_Data(c1);
					LCD_Write_Command(LC_AUT_OVR);
				}
				else OutToLCD(c1,x,y + k);
				if(((x + 2 + HZ_CHR_WIDTH / 2) % 8) == 0)
				{	LCD_Write_Command(LC_AUT_WR);
					LCD_Write_Data(c2);
					LCD_Write_Command(LC_AUT_OVR);
				}
				else OutToLCD(c2,x + 2 + HZ_CHR_WIDTH / 2,y + k);
			}
			x += HZ_CHR_WIDTH;
			i++;
		}
		i++;
	}
}

//-----------------------------------------------------------------
// 输出起点x不是8的倍数时,原字节分成两部分输出到LCD
//-----------------------------------------------------------------
void OutToLCD(INT8U Dat,INT8U x,INT8U y) 
{
	INT8U dat1,dat2,a,b;
	b = x % 8; a = 8 - b;
	Set_LCD_POS(y,x / 8);
	LCD_Write_Command(LC_AUT_RD);
	dat1 = LCD_Read_Data();
	dat2 = LCD_Read_Data();
	//将读取的前后两字节分别与待显示字节的前后部分组合
	dat1 = (dat1 & (0xFF<<a)) | (Dat>>b);
	dat2 = (dat2 & (0xFF>>b)) | (Dat<<a);
	LCD_Write_Command(LC_AUT_OVR);
	Set_LCD_POS(y,x / 8);	
	//输出组合后的两字节
	LCD_Write_Command(LC_AUT_WR);
	LCD_Write_Data(dat1);	
	LCD_Write_Data(dat2);
	LCD_Write_Command(LC_AUT_OVR);
}