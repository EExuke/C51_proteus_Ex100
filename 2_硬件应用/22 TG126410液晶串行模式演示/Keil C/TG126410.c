//-----------------------------------------------------------------
//  名称: TG126410LCD显示驱动程序(SEG1565) (不带字库)
//-----------------------------------------------------------------
#include <reg51.h>
#include <intrins.h>
#define INT8U  unsigned char
#define INT16U unsigned int
#define delay_4us() {_nop_();_nop_();_nop_();_nop_();}
//液晶引脚操作定义
sbit A0 =	P2^3;		//地址/命令选择线
sbit RES =	P2^4;		//复位
sbit CS1 =	P2^5;		//片选1
sbit SCL =	P2^6;		//串行时钟线
sbit SI  =	P2^7;		//串行数据线
//SEG1565显示地址控制命令
#define PAGE	0xB0	//页地址
#define COL_H4	0x10	//列地址高四位
#define COL_L4	0x00	//列地址低四位
#define LINE	0x40	//行地址
extern void delay_ms(INT16U);
//大写字母R的8*8点阵(纵向取模,字节倒序)
code INT8U R[8] = { 0x00,0xFE,0x12,0x32,0x52,0x8C,0x00,0x00 };
//案例文件夹下的一幅图像点阵(存放于程序Flash空间)------------------------------
code INT8U ICONs_Picture[1024] = { //纵向取模,字节倒序
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xF0,
0xF0,0xFC,0x7C,0x7C,0x3C,0x3C,0x3C,0x7F,0x7F,0x7F,0x7F,0x7F,0x3E,0x80,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFE,0xFE,0xCE,0xCE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
0xCE,0xCE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0xFE,0xFE,
0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0x7E,0x7E,0xFE,0xFE,0xFE,0xFE,0x7E,0x7E,0xFE,
0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0x3E,0xFE,0xFE,0xFE,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFF,0xFF,0xFF,
0xFF,0xF9,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x7C,0xFF,0xFF,0xFF,
0xFE,0xFE,0xFC,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0xFF,0x00,0x00,0xFF,0xFF,0xC1,0x80,0x9C,0x9C,0x9C,0x9C,0x1C,0x3C,0xFC,0xFC,
0x00,0x01,0xFF,0xFF,0xC1,0x80,0x9C,0x9C,0x9C,0x9C,0x9C,0x9C,0x1C,0x3E,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x9F,0x3F,0x3F,0x9F,0x00,0x00,0xFF,
0xFF,0xFF,0xFF,0xFF,0x3F,0x0F,0x03,0x70,0x70,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xF8,0x08,0x0B,0x0B,0xAB,0xEB,0xEB,0xEB,0x0B,0x09,0xFB,
0x07,0x07,0x0F,0x1F,0x1E,0x3E,0x7E,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFF,0x07,0x03,
0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x0F,0x08,0x08,0xAB,0xEB,0xEB,0xEB,0x0B,0x0B,0xFB,0xF3,0xF0,0xF8,0xFF,0xFF,
0xF8,0xF0,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xF3,0xF0,0xF8,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x3F,
0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0xF8,0xF8,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFC,0xFC,0xFC,0xC4,0xE4,0xFC,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x3F,0x20,0x20,0x27,0x2B,0x21,0x20,0x21,0x20,0x20,0x3F,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x3F,0x20,0x20,0x27,0x2B,0x21,0x20,0x21,0x20,0x20,0x3F,0x03,0x03,0x03,0x03,0x03,
0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,
0x5D,0x0F,0x07,0x0F,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x10,0xF0,0x90,0xD0,0x30,0x00,0x30,0x10,0x90,0x70,0x10,0x00,0x80,
0x80,0x80,0x80,0x80,0x00,0x10,0xF0,0x00,0x00,0xF0,0x10,0x60,0x90,0x90,0x10,0x30,
0x00,0x10,0xF0,0x90,0x90,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,
0xF0,0x10,0x10,0x00,0x60,0x90,0x90,0x10,0x30,0x00,0x10,0x10,0xF0,0x10,0x10,0x00,
0x60,0x90,0x90,0x10,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x10,0x90,0x70,
0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x10,0xF0,0x00,0x00,0xF1,0x11,0x81,0x81,0x81,0x01,0x81,0x81,0x21,
0x11,0x91,0x91,0x61,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x08,0x0F,0x08,0x09,0x0C,0x00,0x08,0x0E,0x09,0x08,0x0C,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x08,0x08,0x07,0x00,0x0C,0x08,0x08,0x09,0x06,
0x00,0x08,0x0F,0x08,0x08,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x08,
0x0F,0x08,0x08,0x00,0x0C,0x08,0x08,0x09,0x06,0x00,0x08,0x08,0x0F,0x08,0x08,0x00,
0x0C,0x08,0x08,0x09,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0x08,0x08,0x07,0x00,0x00,0x03,0x0C,0x06,0x01,0x00,0x04,
0x08,0x08,0x08,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

//-----------------------------------------------------------------
// 写指令
//-----------------------------------------------------------------
void Write_Command(INT8U cmd)
{	


}

//-----------------------------------------------------------------
// 写数据
//-----------------------------------------------------------------
void Write_Data(INT8U dat)
{	


}

//-----------------------------------------------------------------
// LCD初始化
//-----------------------------------------------------------------
void LCD_Initialize()
{
	RES = 0; delay_ms(10); RES = 1;
	Write_Command(0xA2);delay_ms(10);	//设置偏压比为1/7
	Write_Command(0xA1);delay_ms(10);	//设置段驱动方为逆向
	Write_Command(0xC8);delay_ms(10);	//设置COM扫描方为逆向
	Write_Command(0x27);delay_ms(10);	//设置电阻率
	Write_Command(0x81);delay_ms(10);	//设置电量寄存器
	Write_Command(0x1B);delay_ms(10);	//设置电量
	Write_Command(0x2C);delay_ms(10);	//依次打开倍压电路
	Write_Command(0x2E);delay_ms(10);	//内部电压调整
	Write_Command(0x2F);delay_ms(10);	//开启偏置电路功能
	Write_Command(0xA4);delay_ms(10);	//正常显示所有点
	Write_Command(0xAF);delay_ms(10);	//开显示
}

//-----------------------------------------------------------------
// 全屏显示或全屏不显示(形成全黑色屏幕/或底色屏幕)
//-----------------------------------------------------------------
void Full_Disp_ON_OFF(INT8U k)
{


}

//-----------------------------------------------------------------
// 显示边框
//-----------------------------------------------------------------
void Disp_Frame()
{


}

//-----------------------------------------------------------------
// 正显与反显棋板
//-----------------------------------------------------------------
void Disp_Checker(INT8U k)
{


}

//-----------------------------------------------------------------
// R字符平铺画面
//-----------------------------------------------------------------
void Disp_R()
{

	 
}

//-----------------------------------------------------------------
// 显示案例文件夹下的一幅图片(代码与上一函数相同,区别仅在于使用了不同的点阵数组)
//-----------------------------------------------------------------
void Disp_Picture()
{


}