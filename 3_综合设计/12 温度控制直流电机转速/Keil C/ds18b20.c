//-----------------------------------------------------------------
//  名称: 1-Wire总线温度传感器DS18B20驱动程序
//-----------------------------------------------------------------
#include <reg51.h>
#include <intrins.h>
#include <stdio.h>
#define INT8U  unsigned char
#define INT16U unsigned int
//-----------------------------------------------------------------
sbit DQ = P3^3;		//器件引脚定义
//从DS18B20读取数据,仅前2字节为温度数据,为进行CRC检验,需要读取所有字节
INT8U Temp_Value[9];
INT8U uCRC8;		//CRC校验变量
extern void delay_ms(INT16U x);
#define delay4us() {_nop_();_nop_();_nop_();_nop_();};
//-----------------------------------------------------------------
// 延时
//-----------------------------------------------------------------
void DelayX(INT16U x) { while (--x); }
//-----------------------------------------------------------------
// 初始化DS18B20 
//-----------------------------------------------------------------
INT8U Init_DS18B20()
{


}

//-----------------------------------------------------------------
// 读一字节 
//-----------------------------------------------------------------
INT8U ReadOneByte()
{


}

//-----------------------------------------------------------------
// 写一字节 
//-----------------------------------------------------------------
void WriteOneByte(INT8U dat)
{


}

//-----------------------------------------------------------------
// CRC8检验: CRC8-Dallas/Maxim生成多项式G(x) = x^8 + x^5 + x^4 + 1
// 逆序16进制表示为0x8C
//-----------------------------------------------------------------
void CRC8(INT8U d)
{


}

//-----------------------------------------------------------------
// 读取温度值 
//-----------------------------------------------------------------
INT8U Read_Temperature() 
{


}